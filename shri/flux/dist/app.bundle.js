!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty;function s(e,t){return Array.isArray(e)?function(e,t){for(var i,n="",o="",r=Array.isArray(t),a=0;a<e.length;a++)(i=s(e[a]))&&(r&&t[a]&&(i=c(i)),n=n+o+i,o=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var s in e)s&&e[s]&&n.call(e,s)&&(t=t+i+s,i=" ");return t}(e):e||""}function o(e){if(!e)return"";if("object"==typeof e){var t="";for(var i in e)n.call(e,i)&&(t=t+i+":"+e[i]+";");return t}return e+""}function r(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=c(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.merge=function e(t,i){if(1===arguments.length){for(var n=t[0],s=1;s<t.length;s++)n=e(n,t[s]);return n}for(var r in i)if("class"===r){var a=t[r]||[];t[r]=(Array.isArray(a)?a:[a]).concat(i[r]||[])}else if("style"===r){var a=o(t[r]);a=a&&";"!==a[a.length-1]?a+";":a;var c=o(i[r]);c=c&&";"!==c[c.length-1]?c+";":c,t[r]=a+c}else t[r]=i[r];return t},t.classes=s,t.style=o,t.attr=r,t.attrs=function(e,t){var i="";for(var a in e)if(n.call(e,a)){var c=e[a];if("class"===a){c=s(c),i=r(a,c,!1,t)+i;continue}"style"===a&&(c=o(c)),i+=r(a,c,!1,t)}return i};var a=/["&<>]/;function c(e){var t=""+e,i=a.exec(t);if(!i)return e;var n,s,o,r="";for(n=i.index,s=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}s!==n&&(r+=t.substring(s,n)),s=n+1,r+=o}return s!==n?r+t.substring(s,n):r}t.escape=c,t.rethrow=function e(t,n,s,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||o))throw t.message+=" on line "+s,t;try{o=o||i(2).readFileSync(n,"utf8")}catch(i){e(t,null,s)}var r=3,a=o.split("\n"),c=Math.max(s-r,0),l=Math.min(a.length,s+r);var r=a.slice(c,l).map(function(e,t){var i=t+c+1;return(i==s?"  > ":"    ")+i+"| "+e}).join("\n");t.path=n;t.message=(n||"Pug")+":"+s+"\n"+r+"\n\n"+t.message;throw t}},function(e,t,i){var n=i(0);e.exports=function(e){var t,s="",o={},r=e||{};return function(r){s+='<!DOCTYPE html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="robots" content="noindex"></head><body>';const a=i(3);s=s+(null==(t=i(4).call(this,e))?"":t)+'<div class="mainContainer"><div class="mainContainer__header">Лента событий</div>';const c=a.events;o.graph=t=function(e){this&&this.block,this&&this.attributes,s+='<div class="itemGraph"><img class="itemGraph__img" src="src/img/graph/Richdata@1x.png"></div>'},o.buttonYesNo=t=function(e){this&&this.block,this&&this.attributes,s=s+'<div class="buttonsYesNo"><button class="btn btn_yellow buttonsYesNo__yes">'+n.escape(null==(t=e[0])?"":t)+'</button><button class="btn btn_gray buttonsYesNo__no">'+n.escape(null==(t=e[1])?"":t)+"</button></div>"},o.itemImage=t=function(e){this&&this.block,this&&this.attributes,s+='<div class="itemImage"><div class="itemImage__img" touch-action="none"></div></div>'},o.itemConditions=t=function(e,i){this&&this.block,this&&this.attributes,s+='<div class="itemConditions">',"number"==typeof e&&(s=s+'<div class="itemConditions__temperatureBox"><span>Температура:</span><b>'+n.escape(null==(t=e)?"":t)+"</b></div>"),"number"==typeof i&&(s=s+'<div class="itemConditions__humidity"><span>Влажность:</span><b>'+n.escape(null==(t=i)?"":t)+"</b></div>"),s+="</div>"},o.itemPlayer=t=function({albumcover:e,artist:i,track:o,volume:r}){this&&this.block,this&&this.attributes,s=s+'<div class="itemPlayer"><div class="itemPlayer__trackInfo"><img class="itemPlayer__cover"'+n.attr("src",e,!0,!0)+'><div class="itemPlayer__trackName">'+n.escape(null==(t=o.name)?"":t)+'</div><div class="itemPlayer__timeBox"><div class="itemPlayer__timeLineBox"><hr class="itemPlayer__timeLine"><div class="itemPlayer__timePointer"></div></div><div class="itemPlayer__timeValue">'+n.escape(null==(t=o.length)?"":t)+'</div></div></div><div class="itemPlayer__controllers"><div class="icon icon_nextMusic itemPlayer__btnBack"></div><div class="icon icon_nextMusic itemPlayer__btnForward"></div><div class="itemPlayer__volumeLineBox"><hr class="itemPlayer__volumeLine"><dov class="itemPlayer__volumePointer"'+n.attr("style",n.style(`left: ${r}%;`),!0,!0)+'></dov></div><div class="itemPlayer__volume">'+n.escape(null==(t=r+"%")?"":t)+"</div></div></div>"},s+='<div class="elementsBox">',function(){var e=c;if("number"==typeof e.length)for(var i=0,a=e.length;i<a;i++){var l=e[i];if(s=s+"<div"+n.attr("class",n.classes([`eventItem eventItem_size_${l.size} ${"critical"===l.type?"eventItem_warning":""}`],[!0]),!1,!0)+"><div"+n.attr("class",n.classes([`icon icon_cross${"critical"===l.type?"_white":""} eventItem__cross`],[!0]),!1,!0)+'></div><div class="eventItem__arrowBox"><div class="icon icon_next eventItem__arrow"></div></div><div class="eventItem__mainInfoBox"><div class="eventItem__header"><div'+n.attr("class",n.classes([`eventItem__icon icon icon_${l.icon}${"critical"===l.type?"_white":""}`],[!0]),!1,!0)+'></div><div class="eventItem__title"> <span>'+n.escape(null==(t=l.title)?"":t)+'</span></div></div><div class="eventItem__infoBox"><div class="eventItem__source">'+n.escape(null==(t=l.source)?"":t)+'</div><div class="eventItem__time">'+n.escape(null==(t=l.time)?"":t)+"</div></div></div>",l.description||l.data){s=s+"<div"+n.attr("class",n.classes([`eventItem__descriptionBox ${l.data?"":"eventItem__descriptionBox_oneRow"}`],[!0]),!1,!0)+'><div class="eventItem__description">'+n.escape(null==(t=l.description)?"":t)+'</div><div class="eventItem__dataBox">';let e=l.data&&r.keys(l.data).length?l.data:{};const{temperature:i,buttons:a,image:c,values:d,humidity:u,albumcover:v,artist:m,track:p,volume:f}=e;"graph"==e.type?o.graph(d):i||u?o.itemConditions(i,u):p?o.itemPlayer({albumcover:v,artist:m,track:p,volume:f}):a?o.buttonYesNo(a):c&&o.itemImage(c),s+="</div></div>"}s+="</div>"}else for(var i in a=0,e){if(a++,l=e[i],s=s+"<div"+n.attr("class",n.classes([`eventItem eventItem_size_${l.size} ${"critical"===l.type?"eventItem_warning":""}`],[!0]),!1,!0)+"><div"+n.attr("class",n.classes([`icon icon_cross${"critical"===l.type?"_white":""} eventItem__cross`],[!0]),!1,!0)+'></div><div class="eventItem__arrowBox"><div class="icon icon_next eventItem__arrow"></div></div><div class="eventItem__mainInfoBox"><div class="eventItem__header"><div'+n.attr("class",n.classes([`eventItem__icon icon icon_${l.icon}${"critical"===l.type?"_white":""}`],[!0]),!1,!0)+'></div><div class="eventItem__title"> <span>'+n.escape(null==(t=l.title)?"":t)+'</span></div></div><div class="eventItem__infoBox"><div class="eventItem__source">'+n.escape(null==(t=l.source)?"":t)+'</div><div class="eventItem__time">'+n.escape(null==(t=l.time)?"":t)+"</div></div></div>",l.description||l.data){s=s+"<div"+n.attr("class",n.classes([`eventItem__descriptionBox ${l.data?"":"eventItem__descriptionBox_oneRow"}`],[!0]),!1,!0)+'><div class="eventItem__description">'+n.escape(null==(t=l.description)?"":t)+'</div><div class="eventItem__dataBox">';let e=l.data&&r.keys(l.data).length?l.data:{};const{temperature:i,buttons:a,image:c,values:d,humidity:u,albumcover:v,artist:m,track:p,volume:f}=e;"graph"==e.type?o.graph(d):i||u?o.itemConditions(i,u):p?o.itemPlayer({albumcover:v,artist:m,track:p,volume:f}):a?o.buttonYesNo(a):c&&o.itemImage(c),s+="</div></div>"}s+="</div>"}}.call(this),s=s+"</div></div>"+(null==(t=i(5).call(this,e))?"":t)+(null==(t=i(6).call(this,e))?"":t)+'<script src="/src/js/pep.js"><\/script></body>'}.call(this,"Object"in r?r.Object:"undefined"!=typeof Object?Object:void 0),s}},function(e,t){},function(e){e.exports={events:[{type:"info",title:"Еженедельный отчет по расходам ресурсов",source:"Сенсоры потребления",time:"19:00, Сегодня",description:"Так держать! За последнюю неделю вы потратили на 10% меньше ресурсов, чем неделей ранее.",icon:"stats",data:{type:"graph",values:[{electricity:[["1536883200",115],["1536969600",117],["1537056000",117.2],["1537142400",118],["1537228800",120],["1537315200",123],["1537401600",129]]},{water:[["1536883200",40],["1536969600",40.2],["1537056000",40.5],["1537142400",41],["1537228800",41.4],["1537315200",41.9],["1537401600",42.6]]},{gas:[["1536883200",13],["1536969600",13.2],["1537056000",13.5],["1537142400",13.7],["1537228800",14],["1537315200",14.2],["1537401600",14.5]]}]},size:"l"},{type:"info",title:"Дверь открыта",source:"Сенсор входной двери",time:"18:50, Сегодня",description:null,icon:"key",size:"s"},{type:"info",title:"Уборка закончена",source:"Пылесос",time:"18:45, Сегодня",description:null,icon:"robot-cleaner",size:"s"},{type:"info",title:"Новый пользователь",source:"Роутер",time:"18:45, Сегодня",description:null,icon:"router",size:"s"},{type:"info",title:"Изменен климатический режим",source:"Сенсор микроклимата",time:"18:30, Сегодня",description:"Установлен климатический режим «Фиджи»",icon:"thermal",size:"m",data:{temperature:24,humidity:80}},{type:"critical",title:"Невозможно включить кондиционер",source:"Кондиционер",time:"18:21, Сегодня",description:"В комнате открыто окно, закройте его и повторите попытку",icon:"ac",size:"m"},{type:"info",title:"Музыка включена",source:"Яндекс.Станция",time:"18:16, Сегодня",description:"Сейчас проигрывается:",icon:"music",size:"m",data:{albumcover:"https://avatars.yandex.net/get-music-content/193823/1820a43e.a.5517056-1/m1000x1000",artist:"Florence & The Machine",track:{name:"Big God",length:"4:31"},volume:80}},{type:"info",title:"Заканчивается молоко",source:"Холодильник",time:"17:23, Сегодня",description:"Кажется, в холодильнике заканчивается молоко. Вы хотите добавить его в список покупок?",icon:"fridge",size:"m",data:{buttons:["Да","Нет"]}},{type:"info",title:"Зарядка завершена",source:"Оконный сенсор",time:"16:22, Сегодня",description:"Ура! Устройство «Оконный сенсор» снова в строю!",icon:"battery",size:"s"},{type:"critical",title:"Пылесос застрял",source:"Сенсор движения",time:"16:17, Сегодня",description:"Робопылесос не смог сменить свое местоположение в течение последних 3 минут. Похоже, ему нужна помощь.",icon:"cam",data:{image:"get_it_from_mocks_:3.jpg"},size:"l"},{type:"info",title:"Вода вскипела",source:"Чайник",time:"16:20, Сегодня",description:null,icon:"kettle",size:"s"}]}},function(e,t,i){i(0);e.exports=function(e){var t="";return t+='<div class="header">\n<div class="icon header__logo"></div>\n<ul class="header__menu">\n<li class="header__menu-item header__menu-item_active">\n<a href="">События</a>\n</li>\n<li class="header__menu-item">\n<a href="">Сводка</a>\n</li>\n<li class="header__menu-item">\n<a href="">Устройства</a>\n</li>\n<li class="header__menu-item">\n<a href="">Сценарии</a>\n</li>\n<li class="header__menu-item">\n<a href="/cameras">Видеонаблюдение</a>\n</li>\n</ul>\n<label for="menu-buton-chb" class="icon icon_hamburger header__menu-button"></label>\n</div>'}},function(e,t,i){i(0);e.exports=function(e){var t="";return t+='<footer class="footer">\n<div class="footer__menu">\n<div class="footer__menu-item">\n<a href="#">Помощь</a>\n</div>\n<div class="footer__menu-item">\n<a href="#">Обратная связь</a>\n</div>\n<div class="footer__menu-item">\n<a href="#">Разработчикам</a>\n</div>\n<div class="footer__menu-item">\n<a href="#">Условия пользования</a>\n</div>\n<div class="footer__menu-item">\n<a href="/src/files/presentation.pdf" target="_blanck">Ссылка на лицензию</a>\n</div>\n</div>\n<div class="footer__copy">© 2001-2018 ООО «Яндекс»</div>\n</footer>'}},function(e,t,i){i(0);e.exports=function(e){var t="";return t+='<input type="checkbox" id="menu-buton-chb">\n<label for="menu-buton-chb" class="slide-menu-bg">\n</label>\n<div class="slide-menu">\n<label for="menu-buton-chb" class="slide-menu__close icon icon_cross"></label>\n<div class="slide-munu__person-box">\n<div class="slide-menu__photo">\n<img src="src/img/avatar.jpg" alt="Аватар">\n</div>\n<div class="slide-menu__name">Геннадий Геннадьевич</div>\n<div class="slide-menu__mail">gennadij@yandex.ru</div>\n</div>\n<div class="slide-menu__menu">\n<div class="slide-menu__menu-item">Сводка</div>\n<div class="slide-menu__menu-item">Устройства</div>\n<div class="slide-menu__menu-item">Сценарии</div>\n<li class="slide-menu__menu-item">\n<a href="/cameras">Видеонаблюдение</a>\n</li>\n</div>\n</div>'}},function(e,t,i){},function(e,t){const i=30,n=5,s=1,o=.3,r=.008;let a={},c={};const l=document.querySelector(".itemImage__img");function d(){l.addEventListener("pointerdown",u,!1),l.addEventListener("pointermove",v,!1),l.addEventListener("pointerup",m,!1),l.addEventListener("pointercancel",m,!1)}function u(e){const t=a[e.pointerId]={};t.deltaX=0,t.deltaY=0,t.prevX=e.clientX,t.prevY=e.clientY}function v(e){if(a[e.pointerId])switch(Object.keys(a).length){case 1:!function(e){const t=e.pointerId,n=a[t];if(n.oneStepDeltaX=n.prevX-e.clientX,n.oneStepDeltaY=n.prevY-e.clientY,n.deltaX-=n.oneStepDeltaX,n.deltaY+=n.oneStepDeltaY,n.prevX=e.clientX,n.prevY=e.clientY,Math.abs(a[t].deltaX)<i&&!a[t].freeToScroll)return;a[t].freeToScroll||(a[t].deltaX=parseFloat(l.style.backgroundPositionX)||0,a[t].freeToScroll=!0);l.style.backgroundPositionX=`${a[t].deltaX}px`}(e);break;case 2:!function(e){Object.keys(c).length||(c={firstPointerCoordinates:{},secondPointerCoordinates:{},prevFirstPointerCoordinates:{},prevSecondPointerCoordinates:{},prevPointersDist:0,initialDist:0,freeToPinch:!1,freeToRotate:!1,prevAngle:0,initialAngle:0});if(e.isPrimary?c.firstPointerCoordinates={x:e.clientX,y:e.clientY}:c.secondPointerCoordinates={x:e.clientX,y:e.clientY},!c.firstPointerCoordinates.x||!c.secondPointerCoordinates.x)return;(function(){if(c.freeToRotate)return;const e=c.firstPointerCoordinates.x-c.secondPointerCoordinates.x,t=c.firstPointerCoordinates.y-c.secondPointerCoordinates.y,i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2));if(!c.prevPointersDist)return c.prevPointersDist=i,void(c.initialDist=i);const s=c.prevPointersDist-i;if(c.prevPointersDist=i,absoluteDiff=c.initialDist-i,Math.abs(absoluteDiff)<n&&!c.freeToPinch)return;c.freeToPinch||(c.freeToPinch=!0);!function(e){const t=(parseFloat(l.style.backgroundSize)||100)-e*o;l.style.backgroundSize=`${t}%`}(s)})(),function(){if(c.freeToPinch)return;Object.keys(c.prevFirstPointerCoordinates).length||(c.prevFirstPointerCoordinates=c.firstPointerCoordinates,c.prevSecondPointerCoordinates=c.secondPointerCoordinates);const e=c.firstPointerCoordinates.x-c.prevSecondPointerCoordinates.x,t=c.firstPointerCoordinates.y-c.prevSecondPointerCoordinates.y;var i=180/Math.PI,n=Math.atan(Math.abs(e)/Math.abs(t))*i;c.initialAngle||(c.initialAngle=n);const o=c.prevAngle-n;c.prevAngle=n;const a=c.initialAngle-n;if(console.log(c.initialAngle),Math.abs(a)<s&&!c.freeToRotate)return;c.freeToRotate||(c.freeToRotate=!0);!function(e){const t=parseFloat(l.style.filter.replace(/[^\d.-]/g,""))||1;l.style.filter=`brightness(${t+e*r})`}(o)}()}(e)}}function m(e){delete a[e.pointerId],e.isPrimary&&(c={})}window.addEventListener("load",function(){setTimeout(d,100)},!1)},,function(e,t,i){"use strict";i.r(t);i(1),i(7),i(8);var n=function(){function e(){this.callbacks={},this.isDispatching=!1,this.isPending={},this.lastID=1,this.isHandled={}}return e.prototype.register=function(e){const t=`ID_${this.lastID++}`;return this.callbacks[t]=e,t},e.prototype.unregister=function(){delete this._callbacks[id]},e.prototype.dispatch=function(e){this.startDispatching(e);try{for(let e in this.callbacks)this.isPending[e]||this.invokeCallback(e)}finally{this.stopDispatching()}},e.prototype.isDispatching=function(){return this.isDispatching},e.prototype.invokeCallback=function(e){this.isPending[e]=!0,this.callbacks[e](this.pendingPayload),this.isHandled[e]=!0},e.prototype.startDispatching=function(e){for(let e in this.callbacks)this.isPending[e]=!1,this.isHandled[e]=!1;this.pendingPayload=e,this.isDispatching=!0},e.prototype.stopDispatching=function(){delete this.pendingPayload,this.isDispatching=!1},e}();var s=function(){function e(){}return e.prototype.bind=function(e,t){this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t)},e.prototype.unbind=function(e,t){this.events=this.events||{},e in this.events!=!1&&this.events[e].splice(this.events[e].indexOf(t),1)},e.prototype.trigger=function(e){if(this.events=this.events||{},e in this.events!=!1)for(let t=0;t<this.events[e].length;t++)this.events[e][t].apply(this,Array.prototype.slice.call(arguments,1))},e.mixin=function(t){const i=["bind","unbind","trigger"];for(let n=0;n<i.length;n++)"function"==typeof t?t.prototype[i[n]]=e.prototype[i[n]]:t[i[n]]=e.prototype[i[n]];return t},e}();function o(e){var t=document.cookie.match(new RegExp(e+"=([^;]+)"));return t&&(t=JSON.parse(t[1])),t}const r=new n;let a={route:"",getRoute:function(){return this.route}};function c(e){r.dispatch({eventName:"CHANGE_ROUTE",route:e})}r.register(e=>{switch(e.eventName){case"CHANGE_ROUTE":a.route=e.route,a.trigger("CHANGE_ROUTE")}return!0}),s.mixin(a),a.bind("CHANGE_ROUTE",function(){let e=o("store")||{};const t=a.getRoute();e.route=t,function(e,t){var i=[e,"=",JSON.stringify(t),"; domain=.",window.location.host.toString(),"; path=/;"].join("");console.log("cookie",i),document.cookie=i}("store",e),document.location.href=t}),document.querySelector(".header__menu-item:nth-child(5)").addEventListener("click",e=>{e.preventDefault(),c(e.target.getAttribute("href"))}),window.addEventListener("load",()=>{const e=o("store");e&&c(e.route)})}]);